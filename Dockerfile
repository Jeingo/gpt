# Используем официальный образ Node 14 как базовый образ
FROM node:16-alpine

# Установим рабочую директорию
WORKDIR /app

# Скопируем исходный код проекта в образ
COPY package*.json ./

# Установим зависимости проекта
RUN npm ci

# Скопируем остальные файлы
COPY . .

# Установим переменные окружения
ENV PORT=3000

EXPOSE $PORT

# Запустим приложение
CMD ["npm", "start"]